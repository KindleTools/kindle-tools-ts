
> kindle-tools-ts@0.5.0 test
> vitest run tests/unit/markdown-exporter.test.ts --run


[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/workspace/PERSONAL/KINDLETOOLS/KindleToolsTS[39m

 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mbasic export[2m > [22mshould export single clipping[32m 31[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mbasic export[2m > [22mshould have correct name and extension[32m 0[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mbasic export[2m > [22mshould handle empty clippings array[32m 2[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mbasic export[2m > [22mshould export multiple clippings from same book[32m 6[2mms[22m[39m
 [31m├ù[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mgrouped export[2m > [22mshould create separate files when groupByBook is true[32m 13[2mms[22m[39m
[31m   ΓåÆ expected [ 'book one.md', 'book two.md' ] to include 'Book One.md'[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mgrouped export[2m > [22mshould sanitize filenames with special characters[32m 5[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate presets[2m > [22mshould use default template by default[32m 2[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate presets[2m > [22mshould use minimal preset[32m 4[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate presets[2m > [22mshould use obsidian preset with YAML frontmatter[32m 4[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate presets[2m > [22mshould use notion preset[32m 6[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate presets[2m > [22mshould use academic preset[32m 4[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mcustom templates[2m > [22mshould use custom clipping template[32m 3[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mcustom templates[2m > [22mshould use custom book template[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mcustom templates[2m > [22mshould handle notes and tags in custom templates[32m 6[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mcustom templates[2m > [22mshould prefer customTemplates over templatePreset[32m 2[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate validation[2m > [22mshould validate valid template[32m 1[2mms[22m[39m
 [31m├ù[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mtemplate validation[2m > [22mshould return error for invalid template[32m 1[2mms[22m[39m
[31m   ΓåÆ expected null not to be null[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mstatic methods[2m > [22mshould list available presets[32m 0[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mstatic methods[2m > [22mshould list available helpers[32m 0[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mstatic methods[2m > [22mshould list available variables[32m 0[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22merror handling[2m > [22mshould return error result for invalid template in options[32m 2[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mreal-world scenarios[2m > [22mshould export book with mixed clipping types[32m 2[2mms[22m[39m
 [31m├ù[39m tests/unit/markdown-exporter.test.ts[2m > [22mMarkdownExporter[2m > [22mreal-world scenarios[2m > [22mshould export multiple books[32m 3[2mms[22m[39m
[31m   ΓåÆ the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m20 passed[39m[22m[90m (23)[39m
[2m   Start at [22m 19:03:06
[2m   Duration [22m 577ms[2m (transform 111ms, setup 0ms, import 199ms, tests 100ms, environment 0ms)[22m

